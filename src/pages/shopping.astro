---
import Layout from "@layouts/MainLayout.astro";
import Cart from "@components/solid/global/Cart.tsx";
import initSwell from "../lib/swell.ts";

const runtime = Astro.locals.runtime;
const swell = initSwell(
  runtime ? runtime.env.SWELL_STORE_ID : import.meta.env.SWELL_STORE_ID,
  runtime ? runtime.env.SWELL_PUBLIC_KEY : import.meta.env.SWELL_PUBLIC_KEY,
);

const categories = await swell.categories.list({
  limit: 100,
  page: 1,
});
---

<Layout categories={categories.results} title="Shopping page">
  <Cart collections={categories.results} />
</Layout>
